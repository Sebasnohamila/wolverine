<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MODO DEBUG - Wolverine</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>

    <style>
        body { margin: 0; padding: 0; overflow: hidden; font-family: monospace; }
        
        model-viewer {
            width: 100vw;
            height: 100vh;
            background-color: #f0f0f0;
            position: absolute;
            top: 0; left: 0; z-index: 1; 
        }

        /* CUADRO DE DATOS DEBUG */
        #debug-panel {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #00ff00; /* Verde hacker para que resalte */
            padding: 15px;
            border-radius: 8px;
            z-index: 9999;
            font-size: 14px;
            pointer-events: none; /* Para que puedas tocar el modelo a través del texto */
            white-space: pre-wrap; /* Mantiene los saltos de línea */
            border: 2px solid #00ff00;
        }

        #start-button {
            position: fixed;
            top: 20px; right: 20px;
            z-index: 999;
            padding: 10px 20px;
            background: black; color: white;
            border: none; border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="debug-panel">
        Mueve el modelo para ver los datos aquí...
    </div>

    <button id="start-button">ACTIVAR AUDIO</button>

    <audio id="bg-music" loop>
        <source src="xmen1.mp3" type="audio/mpeg">
    </audio>

    <model-viewer 
        id="viewer"
        src="wolverineliviano2.glb"
        alt="Wolverine Debug"
        camera-controls
        shadow-intensity="1"
        ar>
    </model-viewer>

    <script>
        const viewer = document.querySelector('#viewer');
        const debugPanel = document.getElementById('debug-panel');
        const startBtn = document.getElementById('start-button');
        const audio = document.getElementById('bg-music');

        // Botón simple de inicio
        startBtn.addEventListener('click', () => {
            audio.play();
            startBtn.style.display = 'none';
        });

        // FUNCIÓN MÁGICA: Escuchar el movimiento de la cámara
        viewer.addEventListener('camera-change', (event) => {
            // Obtener los datos actuales
            const orbit = viewer.getCameraOrbit();
            const target = viewer.getCameraTarget();
            const fov = viewer.getFieldOfView();

            // Convertir radianes a grados para que sea más fácil de leer (opcional, pero model-viewer acepta 'rad' o 'deg')
            // Aquí usaremos lo que devuelve la API y lo formateamos para copiar y pegar
            
            // Orbit (Posición de cámara alrededor del objeto)
            const orbitString = `${orbit.theta}rad ${orbit.phi}rad ${orbit.radius}m`;
            
            // Target (Hacia dónde mira la cámara - X Y Z)
            const targetString = `${target.x}m ${target.y}m ${target.z}m`;

            // Field of View (Zoom/Escala)
            const fovString = `${fov}deg`;

            // Mostrar en pantalla
            debugPanel.innerHTML = `
<strong>COPIA ESTOS DATOS:</strong><br><br>
camera-orbit="${orbitString}"<br>
camera-target="${targetString}"<br>
field-of-view="${fovString}"
            `;
        });
    </script>
</body>
</html>
